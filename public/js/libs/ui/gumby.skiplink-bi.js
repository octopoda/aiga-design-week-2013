/**
* Gumby SkipLink
*/!function(){"use strict";function e(e){this.$el=e;this.targetPos=0;this.duration=0;this.offset=!1;this.easing="";this.update=!1;this.setup();var t=this;this.$el.on(Gumby.click+" gumby.skip",function(e){e.stopImmediatePropagation();e.preventDefault();t.update?t.calculateTarget(t.skipTo):t.skipTo()}).on("gumby.initialize",function(){t.setup()})}e.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200;this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1;this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing";this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1;this.calculateTarget()};e.prototype.calculateTarget=function(e){var t=this,n=Gumby.selectAttr.apply(this.$el,["goto"]),r;if(n=="top")this.targetPos=0;else if($.isNumeric(n))this.targetPos=Number(n);else{r=$(n);if(!r)return!1;this.targetPos=r.offset().top}e&&e.apply(this)};e.prototype.skipTo=function(){var e=this;$("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){e.$el.trigger("gumby.onComplete")})};e.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var e=this.offset.substr(0,1),t=Number(this.offset.substr(1,this.offset.length));if(e==="-")return this.targetPos-t;if(e==="+")return this.targetPos+t};Gumby.addInitalisation("skiplinks",function(t){$(".skiplink > a, .skip").each(function(){var n=$(this);if(n.data("isSkipLink")&&!t)return!0;if(n.data("isSkipLink")&&t){n.trigger("gumby.initialize");return!0}n.data("isSkipLink",!0);new e(n)})});Gumby.UIModule({module:"skiplink",events:["onComplete","skip"],init:function(){Gumby.initialize("skiplinks")}})}();